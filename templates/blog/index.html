{% extends 'base.html' %}
{% load static %}
{% block content %}
    <main class="page blog-post-list">
        <section class="clean-block clean-blog-list dark" id="back-image-all" style="background-image:url(#);">
            <div class="container">
                <div class="block-heading">
                    <section class="clean-block clean-hero" id="hero-section" style="background-image:url(#);color:rgba(255, 255, 255, 0);">
                        <div class="text">
                            <h2>聚焦文字</h2>
                            <p>聚焦文字描述</p><button class="btn btn-outline-light btn-lg" type="button">阅读</button>
                        </div>
                    </section>
                </div>
                <h2 class="text-info">博客主界面</h2>
                <p>博客主界面描述</p>
                <div class="block-content"  id="back-image-all">
                {% for post in posts %}
                    <div class="clean-blog-post">
                        <div class="row">
                            <div class="col-lg-5"><img class="rounded img-fluid" id="post-img-{{ forloop.counter }}" alt="" src="#"></div>
                            <div class="col-lg-7">
                                <h3>{{ post.title }}</h3>
                                <div class="info"><span class="text-muted">{{ post.published_at|date:"Y-m-d H:i:s" }}<a href="#">  {{ user.username }}</a></span></div>
                                <p>{{ post.content|safe }}</p><a href="{% url 'post_detail' pk=post.post_id %}" class="btn btn-outline-primary btn-sm" type="button">阅读更多</a>
                            </div>
                        </div>
                        <script type="text/javascript">
                            function getRandomInt(min, max) {
                                return Math.floor(Math.random() * (max - min)) + min;
                            }

                            var randomIndex = getRandomInt(10, 19);
                            var postImg = document.getElementById("post-img-{{ forloop.counter }}");
                              postImg.src = "{% static 'images/pic/pic_' %}" + randomIndex + ".jpg";
                        </script>
                    </div>
                {% endfor %}
                </div>
            </div>
        </section>
    </main>
{% endblock content %}